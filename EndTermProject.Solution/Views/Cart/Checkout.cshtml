@model EndTermProject.Models.ViewModels.CheckoutVm

@{
    ViewBag.Title = "Checkout";
    var pay = ViewBag.Paytype;
    var city = ViewBag.Cities;
}



<style>
    td {
        height: 70px;
        padding-left: 20px !important;
        border-bottom: 1px solid rgb(156, 156, 156) !important;
    }

    .table {
        border-style: solid;
        border-width: 20px;
        border-color: #e3f2fd;
        border-radius: 10px;
    }

    .mb-3 {
    }
</style>
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="mb-4">
        <button class="btn btn-danger" onclick="location.href='@Url.Action("CartInfo")'">回上一頁</button>
    </div>
    <div class="form-horizontal">
        <div class="container" style="border: 10px solid #e3f2fd">
            <div class="row">

                <div style="background-color: #e3f2fd; height:40px;" class="mb-3">
                    收件人資訊
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                </div>

                <div class="col-md-6">
                    <div class="mb-3">
                        @Html.LabelFor(model => model.Receiver, htmlAttributes: new { @class = "form-label " })

                        @Html.EditorFor(model => model.Receiver, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Receiver, "", new { @class = "text-danger" })

                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(model => model.Cellphone, htmlAttributes: new { @class = "form-label" })

                        @Html.EditorFor(model => model.Cellphone, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Cellphone, "", new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "form-label " })

                        @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control col-md-4" } })
                        @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(model => model.CityId, htmlAttributes: new { @class = "form-label" })

                        @Html.DropDownListFor(model => model.CityId,
                                   new SelectList(ViewBag.Cities, "Id", "Name"), "請選擇", new { @class = "form-select", id = "cityDropdown" })
                        @Html.ValidationMessageFor(model => model.CityId, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        @Html.LabelFor(model => model.DistrictId, htmlAttributes: new { @class = "form-label" })

                        @Html.DropDownListFor(model => model.DistrictId,
                                   new SelectList(new List<SelectListItem>(), "Value", "Text"), "請選擇", new { @class = "form-select", id = "districtDropdown" })
                        @Html.ValidationMessageFor(model => model.DistrictId, "", new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "form-label " })

                        @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                    </div>

                    <div class="mb-3">
                        @Html.LabelFor(model => model.PaytypeId, htmlAttributes: new { @class = "form-label", @id = "paytypeId" })

                        @Html.DropDownListFor(model => model.PaytypeId,
                                  new SelectList(pay, "Id", "PayType"), "請選擇", new { @class = "form-select" })
                        @Html.ValidationMessageFor(model => model.PaytypeId, "", new { @class = "text-danger" })
                    </div>
                    <div class="mb-3 text-end" style="margin-top:45px">
                        <input type="submit" value="送出訂單" class="btn btn-danger" />
                    </div>

                </div>

            </div>

        </div>
    </div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/JS/GetCities.js"></script>
}